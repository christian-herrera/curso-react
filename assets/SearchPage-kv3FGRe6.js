import{a as p,r as a,j as s,e as f}from"./index-BbpsG8oY.js";import{C as x}from"./CardProducto-B1xSJug5.js";import{u as j}from"./useProductList-CI2gA0VX.js";import{a as g}from"./AppRouter-BGOxa0Pm.js";function C(){const[n]=g(),t=n.get("query"),{cart:c,cartAdd:d}=p(),{getProductsWithQuery:i}=j(),[r,l]=a.useState([]),[o,u]=a.useState(!0);async function m(){const e=await i(t);e.success?(l(e.data),u(!1)):e.unauthorized||f("Error al obtener los datos!","error")}return a.useEffect(()=>{t&&m()},[t]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container pt-4",children:[s.jsx("h2",{className:"pb-2",children:"Listado de Productos"}),o&&s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"my-5",children:"Consultando productos..."}),s.jsx("div",{className:"spinner-border",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Consultando productos..."})})]}),!o&&s.jsxs("div",{className:"row",children:[r.length>0&&r.map(e=>s.jsx(x,{producto:e,onAgregar_fn:d,cantEnCarrito:c.filter(h=>h.id===e.id)[0]?.quantity},e.id)),r.length===0&&s.jsxs("div",{className:"alert alert-info text-center rounded-4",role:"alert",children:['No se encontraron productos que coincidan con la b√∫squeda "',t,'"']})]})]})})}export{C as default};
