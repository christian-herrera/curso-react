import{a as f,r as e,j as s,e as h}from"./index-C5F4Strn.js";import{C as P}from"./CardProducto-rh2BFsPN.js";import{P as j}from"./Paginator-noPuADKB.js";import{u as C}from"./useProductList-BlObIILH.js";function y(){const{cart:c,cartAdd:d}=f(),{getProductList:i}=C(),[r,u]=e.useState(1),[l,m]=e.useState(1),[p,g]=e.useState([]),[o,x]=e.useState(!0);async function n(t=r){const a=await i(t);a.success?(g(a.data.products),m(a.data.total_pages),u(t),x(!1)):a.unauthorized||h("Error al obtener los datos!","error")}return e.useEffect(()=>{n(1)},[]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container pt-4",children:[s.jsx("h2",{className:"pb-2",children:"Listado de Productos"}),o&&s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"my-5",children:"Consultando productos..."}),s.jsx("div",{className:"spinner-border",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Consultando productos..."})})]}),!o&&s.jsxs("div",{className:"row",children:[p.map(t=>s.jsx(P,{producto:t,onAgregar_fn:d,cantEnCarrito:c.filter(a=>a.id===t.id)[0]?.quantity},t.id)),s.jsx(j,{currentPage:r,totalPages:l,onPageChange:t=>n(t)})]})]})})}export{y as default};
