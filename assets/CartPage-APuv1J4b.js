import{j as e,a as p,s as r,f as c}from"./index-BbpsG8oY.js";import{c as l,u as j}from"./AppRouter-BGOxa0Pm.js";import{D as b}from"./Delete-ChTZJUq4.js";const u=l(e.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"})),N=l(e.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}));function w(){const n=j(),{cart:s,cartInc:o,cartDec:i,cartRemove:d,cartClear:h}=p(),x=async()=>{(await r("Está seguro?","Desea vaciar el carrito de compras?")).isConfirmed&&(h(),c("Carrito limpio!","El carrito de compras ha sido vaciado correctamente.","success"))},m=async()=>{(await r("Está seguro?","Desea proceder con la compra de los productos en el carrito?")).isConfirmed&&setTimeout(()=>{c("Pago exitoso!",`Se há realizado la compra por el total de ${s.length} productos!`,"success")},500)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container pt-4",children:[e.jsx("h2",{className:"pb-2",children:"Listado de Productos"}),e.jsx("div",{className:"container mb-4",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"ms-auto col-12 mb-2 col-md-3 mb-md-0",children:e.jsx("button",{className:"btn btn-primary w-100 me-2",onClick:()=>n("/products"),children:"Volver"})}),e.jsx("div",{className:"me-auto col-12 col-md-3",children:e.jsx("button",{className:"btn btn-danger w-100",onClick:x,disabled:s.length===0,children:"Vaciar Carrito"})})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-striped table-hover align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"Nombre"}),e.jsx("th",{scope:"col",className:"text-center",children:"Precio"}),e.jsx("th",{scope:"col",className:"text-center",children:"Cantidad"})]})}),e.jsxs("tbody",{children:[s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center fs-5 fst-italic py-3",children:"- El carrito se encuentra vacío -"})}),s.map((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{scope:"row",className:"w-50",children:a.title}),e.jsxs("td",{className:"text-center w-25",children:["$ ",(a.price/100).toFixed(2)]}),e.jsx("td",{className:"w-25",children:e.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2",children:[e.jsx("button",{className:"btn p-0 border-0 bg-transparent",onClick:()=>i(a.id),"aria-label":`Restar uno a ${a.title}`,children:e.jsx(u,{})}),e.jsxs("label",{htmlFor:`quantity-${a.id}`,className:"visually-hidden",children:["Cantidad de ",a.title]}),e.jsx("input",{id:`quantity-${a.id}`,className:"form-control text-center",style:{width:"50px"},value:a.quantity,readOnly:!0}),e.jsx("button",{className:"btn p-0 border-0 bg-transparent",onClick:()=>o(a.id),"aria-label":`Sumar uno a ${a.title}`,children:e.jsx(N,{})}),e.jsx("button",{className:"btn p-0 border-0 bg-transparent",onClick:()=>d(a.id),"aria-label":`Eliminar ${a.title} del carrito`,children:e.jsx(b,{})})]})})]},t)),e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:"Total"})}),e.jsxs("td",{className:"text-center fs-5",colSpan:"3",children:["$ ",s.reduce((a,t)=>a+t.price/100*t.quantity,0).toFixed(2)]})]})]})]})}),e.jsx("div",{className:"container row mt-4 mx-0",children:e.jsx("div",{className:"col-md-8 col-12 mx-auto",children:e.jsx("button",{className:"btn btn-warning w-100 fs-5 fw-bold",style:{height:"2.5em"},onClick:m,children:"Realizar Compra"})})})]})})}export{w as default};
